<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\Hash;
use App\Models\User;
use App\Models\Category;
use App\Models\Product;

class DatabaseSeeder extends Seeder
{
    public function run(): void
    {
        // 1. КОРИСТУВАЧІ
        if (!User::where('email', 'admin@gunshop.com')->exists()) {
            User::create([
                'name' => 'Commander',
                'email' => 'admin@gunshop.com',
                'password' => Hash::make('password'),
                'is_admin' => 1,
                'phone' => '+380991112233',
                'address' => 'Головний Штаб',
            ]);
        }
        if (!User::where('email', 'client@gunshop.com')->exists()) {
            User::create([
                'name' => 'Stalker',
                'email' => 'client@gunshop.com',
                'password' => Hash::make('password'),
                'is_admin' => 0,
            ]);
        }

// 2. КАТЕГОРІЇ
        $catsData = [
            'Пневматична зброя' => 'air',
            'Флобери та Револьвери' => 'flobert',
            'Холодна зброя' => 'knife',
            'Оптика та Приціли' => 'optic',
            'Тактичне спорядження' => 'gear',
            'Засоби самозахисту' => 'defense',
            'Луки та Арбалети' => 'archery',
            'Догляд за зброєю' => 'care',
            'Сейфи та Зберігання' => 'safe',
            'Аксесуари та Розхідники' => 'acc',
            'Одяг та Взуття' => 'wear' 
        ];

        $cats = [];
        foreach ($catsData as $name => $key) {
            $cat = Category::firstOrCreate(['name' => $name]);
            $cats[$key] = $cat->id;
        }

        // 3. ГЕНЕРАТОР ОПИСУ (СТРОГИЙ СТИЛЬ)
        $createDesc = function($data) {
            $specsHtml = "";
            foreach ($data['specs'] as $k => $v) {
                $specsHtml .= "
                <div class='d-flex justify-content-between py-2 border-bottom' style='border-color: #333 !important;'>
                    <span class='text-secondary'>{$k}</span>
                    <span class='text-light fw-medium'>{$v}</span>
                </div>";
            }
            
            $featuresHtml = implode('', array_map(fn($f) => "
                <li class='mb-2 d-flex align-items-start'>
                    <span class='me-2 text-secondary fw-bold'>▪</span>
                    <span class='text-light opacity-75'>{$f}</span>
                </li>", $data['features']));

            return "
            <div class='gun-description' style='font-family: Roboto, sans-serif;'>
                
                <div class='mb-5'>
                    <h6 class='text-uppercase fw-bold text-secondary mb-3' style='letter-spacing: 2px; font-size: 0.8rem;'>ОПИС ВИРОБУ</h6>
                    <p class='fs-6 text-light opacity-75' style='line-height: 1.8; text-align: justify;'>{$data['about']}</p>
                </div>

                <div class='row g-5'>
                    <div class='col-lg-6'>
                        <h6 class='text-uppercase fw-bold text-secondary mb-4' style='letter-spacing: 2px; font-size: 0.8rem;'>ТЕХНІЧНІ ДАНІ</h6>
                        <div class='specs-container small'>
                            {$specsHtml}
                        </div>
                    </div>

                    <div class='col-lg-6'>
                        <h6 class='text-uppercase fw-bold text-secondary mb-4' style='letter-spacing: 2px; font-size: 0.8rem;'>ФУНКЦІОНАЛ</h6>
                        <ul class='list-unstyled mb-0'>
                            {$featuresHtml}
                        </ul>
                        
                        <div class='mt-5 pt-4 border-top' style='border-color: #333 !important;'>
                            <div class='d-flex align-items-center'>
                                <i class='bi bi-box-seam text-secondary me-3 fs-4'></i>
                                <div>
                                    <div class='text-uppercase fw-bold text-secondary' style='font-size: 0.7rem; letter-spacing: 1px;'>Комплектація</div>
                                    <div class='text-light small'>{$data['set']}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>";
        };

        // 4. БАЗА ТОВАРІВ (45+ ПОЗИЦІЙ)
        $products = [
            // --- ПНЕВМАТИКА ---
            [
                'name' => 'Glock 17 Gen5 (CO2)', 'cat' => 'air', 'price' => 5800.00, 'img' => 'products/glock17.jpg',
                'data' => [
                    'about' => 'Ліцензійна пневматична репліка легендарного австрійського пістолета. Повністю відповідає бойовому аналогу за вагою та ергономікою. Металевий затвор та система Blowback створюють реалістичну віддачу.',
                    'specs' => ['Калібр' => '4.5 мм BB', 'Швидкість' => '115 м/с', 'Магазин' => '18 куль', 'Вага' => '675 г', 'Джерело' => 'CO2 12г'],
                    'features' => ['Система Blowback', 'Оригінальні маркування', 'Підствольна планка', 'Металевий затвор'],
                    'set' => 'Пістолет, магазин, шестигранник.'
                ]
            ],
            [
                'name' => 'Beretta M92 FS', 'cat' => 'air', 'price' => 6400.00, 'img' => 'products/beretta.webp',
                'data' => [
                    'about' => 'Важка цільнометалева копія армійського пістолета США. Використовує свинцеві кулі, що забезпечує високу точність завдяки нарізному стволу.',
                    'specs' => ['Калібр' => '4.5 мм (Кулі)', 'Швидкість' => '120 м/с', 'Вага' => '1260 г', 'Матеріал' => 'Метал', 'Магазин' => 'Барабан 8 шт'],
                    'features' => ['Висока точність', 'Подвійна дія курка', 'Зроблено в Німеччині', 'Нарізний ствол'],
                    'set' => 'Пістолет, 2 барабани, кейс.'
                ]
            ],
            [
                'name' => 'Hatsan 125 Magnum', 'cat' => 'air', 'price' => 8500.00, 'img' => 'products/hatsan125.jpg',
                'data' => [
                    'about' => 'Потужна пружинно-поршнева гвинтівка магнум-класу. Призначена для стрільби на далекі дистанції. Система SAS ефективно гасить віддачу.',
                    'specs' => ['Калібр' => '4.5 мм', 'Швидкість' => '380 м/с', 'Тип' => 'Пружинна', 'Довжина' => '1240 мм', 'Вага' => '3.8 кг'],
                    'features' => ['Система SAS', 'Спуск Quattro Trigger', 'Оптичні нитки Truglo', 'Автоматичний запобіжник'],
                    'set' => 'Гвинтівка, накладки приклада, коробка.'
                ]
            ],
            [
                'name' => 'Crosman 1377C', 'cat' => 'air', 'price' => 3200.00, 'img' => 'products/Crosman 1377C.jpg',
                'data' => [
                    'about' => 'Легендарний мультикомпресійний пістолет. Дозволяє регулювати потужність пострілу кількістю накачувань. Відсутність віддачі гарантує точність.',
                    'specs' => ['Калібр' => '4.5 мм', 'Швидкість' => 'до 180 м/с', 'Тип' => 'Мультикомпресійний', 'Ствол' => 'Нарізний', 'Вага' => '910 г'],
                    'features' => ['Регульована потужність', 'Повна відсутність віддачі', 'Сталевий ствол', 'Можливість модернізації'],
                    'set' => 'Пістолет, інструкція.'
                ]
            ],
            [
                'name' => 'Diana Stormrider PCP', 'cat' => 'air', 'price' => 12500.00, 'img' => 'products/diana.jpg',
                'data' => [
                    'about' => 'Легка та точна PCP гвинтівка. Працює від стисненого повітря, має магазин на 9 куль та вбудований глушник. Ідеальний вхід у світ PCP.',
                    'specs' => ['Тип' => 'PCP', 'Швидкість' => '320 м/с', 'Тиск' => '200 бар', 'Магазин' => '9 куль', 'Вага' => '2.3 кг'],
                    'features' => ['Вбудований модератор', 'Манометр знизу', 'Регульований спуск', 'Німецька якість'],
                    'set' => 'Гвинтівка, штуцер, магазин.'
                ]
            ],
            [
                'name' => 'Sig Sauer P320', 'cat' => 'air', 'price' => 7100.00, 'img' => 'products/sigp320.jpg',
                'data' => [
                    'about' => 'Репліка сучасного пістолета армії США. Має унікальний ланцюговий магазин на 30 куль. Потужний блоубек та реалістична вага.',
                    'specs' => ['Калібр' => '4.5 мм (Кулі)', 'Швидкість' => '130 м/с', 'Магазин' => '30 шт', 'Вага' => '820 г', 'Блоубек' => 'Є'],
                    'features' => ['Стріляє свинцевими кулями', 'Велика ємність магазину', 'Сильна віддача', 'Планка Пікатінні'],
                    'set' => 'Пістолет, магазин.'
                ]
            ],

            // --- ФЛОБЕРИ ---
            [
                'name' => 'Safari', 'cat' => 'flobert', 'price' => 4800.00, 'img' => 'products/safari.jpg',
                'data' => [
                    'about' => 'Український револьвер під патрон Флобера. Сталевий ударно-спусковий механізм та барабан забезпечують високий ресурс роботи.',
                    'specs' => ['Калібр' => '4 мм', 'Ствол' => 'Нарізний 4"', 'Барабан' => '9 набоїв', 'Матеріал' => 'Сталь/Сплав', 'Руків\'я' => 'Бук'],
                    'features' => ['Сталевий УСМ', 'Регульований цілик', 'Не вимагає дозволу', 'Висока надійність'],
                    'set' => 'Револьвер, йоржик, паспорт.'
                ]
            ],
            [
                'name' => 'Weihrauch HW4 4"', 'cat' => 'flobert', 'price' => 11500.00, 'img' => 'products/Weihrauch HW4 4.jpeg',
                'data' => [
                    'about' => 'Німецький револьвер преміум-класу. Ідеальна підгонка деталей, м\'який спуск і найвища точність серед аналогів.',
                    'specs' => ['Калібр' => '4 мм', 'Ствол' => 'Нарізний 4"', 'Барабан' => '8 набоїв', 'Матеріал' => 'Збройова сталь', 'Вага' => '805 г'],
                    'features' => ['Найвища якість збірки', 'М\'який спуск', 'Дерев\'яні накладки', 'Мінімальні зазори'],
                    'set' => 'Револьвер, кейс, інструкція.'
                ]
            ],

            // --- НОЖІ ---
            [
                'name' => 'Cold Steel Recon 1', 'cat' => 'knife', 'price' => 5200.00, 'img' => 'products/recon1.jpg',
                'data' => [
                    'about' => 'Легендарний тактичний ніж. Замок Tri-Ad Lock витримує навантаження, які ламають інші ножі. Клинок Tanto ідеальний для пробивання.',
                    'specs' => ['Сталь' => 'S35VN', 'Клинок' => '102 мм', 'Руків\'я' => 'G10', 'Замок' => 'Tri-Ad Lock', 'Вага' => '150 г'],
                    'features' => ['Наднадійний замок', 'Порошкова сталь', 'Чорне покриття DLC', 'Кліпса'],
                    'set' => 'Ніж, додаткова кліпса.'
                ]
            ],
            [
                'name' => 'Spyderco Para 3', 'cat' => 'knife', 'price' => 6900.00, 'img' => 'products/Spyderco Para 3.webp',
                'data' => [
                    'about' => 'Компактна версія знаменитого Paramilitary 2. Один з найкращих EDC ножів у світі. Фірмовий отвір для відкривання однією рукою.',
                    'specs' => ['Сталь' => 'CPM S45VN', 'Клинок' => '75 мм', 'Замок' => 'Compression Lock', 'Руків\'я' => 'G10', 'Країна' => 'США'],
                    'features' => ['Ідеальна ергономіка', 'Швидке відкривання', 'Преміум матеріали', '4-позиційна кліпса'],
                    'set' => 'Ніж, коробка.'
                ]
            ],
            [
                'name' => 'Morakniv Garberg', 'cat' => 'knife', 'price' => 3100.00, 'img' => 'products/Morakniv Garberg.jpg',
                'data' => [
                    'about' => 'Перший Full Tang ніж від Morakniv. Невбивний інструмент для бушкрафту. Лезо проходить через все руків\'я, що дозволяє виконувати найважчі роботи.',
                    'specs' => ['Сталь' => 'Sandvik 14C28N', 'Конструкція' => 'Full Tang', 'Товщина' => '3.2 мм', 'Довжина' => '229 мм', 'Руків\'я' => 'Поліамід'],
                    'features' => ['Витримує батонінг', 'Скандинавські спуски', 'Можливість використання кресала', 'Система Multi-Mount'],
                    'set' => 'Ніж, піхви, кріплення.'
                ]
            ],
            [
                'name' => 'Ka-Bar USMC', 'cat' => 'knife', 'price' => 4800.00, 'img' => 'products/Ka-Bar USMC.jpg',
                'data' => [
                    'about' => 'Класичний бойовий ніж морської піхоти США. Використовується з часів Другої світової війни. Перевірений часом інструмент виживання.',
                    'specs' => ['Сталь' => '1095 Cro-Van', 'Довжина' => '300 мм', 'Клинок' => '180 мм', 'Руків\'я' => 'Шкіра', 'Гарда' => 'Сталь'],
                    'features' => ['Історична модель', 'Вуглецева сталь', 'Шкіряні піхви', 'Серрейтор (опція)'],
                    'set' => 'Ніж, піхви.'
                ]
            ],
            [
                'name' => 'Microtech Ultratech', 'cat' => 'knife', 'price' => 18500.00, 'img' => 'products/Microtech Ultratech.webp',
                'data' => [
                    'about' => 'Еталон автоматичних ножів з фронтальним викидом (OTF). Миттєве відкриття та закриття. Вибір професіоналів та колекціонерів.',
                    'specs' => ['Сталь' => 'M390', 'Механізм' => 'Dual Action OTF', 'Клинок' => '86 мм', 'Руків\'я' => 'Алюміній 6061', 'Країна' => 'США'],
                    'features' => ['Миттєва дія', 'Склобій', 'Найвища якість обробки', 'Двосічне лезо'],
                    'set' => 'Ніж, інструкція.'
                ]
            ],
            [
                'name' => 'Ganzo G704', 'cat' => 'knife', 'price' => 950.00, 'img' => 'products/Ganzo G704.webp',
                'data' => [
                    'about' => 'Народний улюбленець. Найкраще співвідношення ціни та якості. Копія дорогого брендового ножа, яка не шкода використовувати для важкої роботи.',
                    'specs' => ['Сталь' => '440C', 'Замок' => 'G-Lock', 'Клинок' => '85 мм', 'Руків\'я' => 'G10', 'Вага' => '140 г'],
                    'features' => ['Доступна ціна', 'Надійний замок', 'Добра заточка з коробки', 'Чіпка рукоятка'],
                    'set' => 'Ніж, мішечок.'
                ]
            ],

            // --- ОПТИКА ---
            [
                'name' => 'Vortex Diamondback 4-12x40', 'cat' => 'optic', 'price' => 14200.00, 'img' => 'products/Vortex Diamondback 4-12x40.jpg',
                'data' => [
                    'about' => 'Американська оптика з довічною VIP гарантією. Витримує віддачу будь-якого калібру. Світла картинка та тонка сітка.',
                    'specs' => ['Кратність' => '4-12x', 'Лінза' => '40 мм', 'Труба' => '1 дюйм', 'Сітка' => 'Dead-Hold BDC', 'Вага' => '414 г'],
                    'features' => ['Довічна гарантія', 'Заповнення аргоном', 'Ударостійкість', 'Багатошарове просвітлення'],
                    'set' => 'Приціл, кришки, серветка.'
                ]
            ],
            [
                'name' => 'Holosun HS510C', 'cat' => 'optic', 'price' => 16500.00, 'img' => 'products/holosun.jpg',
                'data' => [
                    'about' => 'Відкритий коліматор з титановим захистом. Працює від сонячної панелі та батарейки. Система Shake Awake вмикає приціл від руху.',
                    'specs' => ['Тип' => 'Коліматор', 'Марка' => 'Точка/Коло', 'Живлення' => 'CR2032 + Solar', 'Час роботи' => '50 000 год', 'Кріплення' => 'QD'],
                    'features' => ['Сонячна батарея', 'Титановий кожух', 'Швидкознімне кріплення', 'Змінна марка'],
                    'set' => 'Приціл, батарейка, ключ, кейс.'
                ]
            ],
            [
                'name' => 'Discovery VT-R 3-9x40', 'cat' => 'optic', 'price' => 2400.00, 'img' => 'products/Discovery VT-R 3-9x40.jpg',
                'data' => [
                    'about' => 'Бюджетний, але якісний приціл для пневматики та дрібного калібру. Витримує віддачу ППП гвинтівок.',
                    'specs' => ['Кратність' => '3-9x', 'Лінза' => '40 мм', 'Сітка' => 'Mil-Dot', 'Труба' => '25.4 мм', 'Паралакс' => 'Фіксований'],
                    'features' => ['Стійкість до віддачі', 'Тонка сітка', 'Кришки фліп-ап', 'Доступна ціна'],
                    'set' => 'Приціл, кільця, бленда.'
                ]
            ],
            [
                'name' => 'AGM Taipan TM15-384', 'cat' => 'optic', 'price' => 58000.00, 'img' => 'products/AGM Taipan TM15-384.jpg',
                'data' => [
                    'about' => 'Тепловізійний монокуляр для спостереження в повній темряві. Бачить теплові об\'єкти крізь туман та дим на відстані до 700 метрів.',
                    'specs' => ['Матриця' => '384x288', 'Об\'єктив' => '15 мм', 'Зум' => '1x-8x', 'Частота' => '50 Гц', 'Wi-Fi' => 'Є'],
                    'features' => ['Запис відео', 'Вимірювання дистанції', 'Вбудований акумулятор', 'Компактний розмір'],
                    'set' => 'Тепловізор, кабелі, ремінець.'
                ]
            ],
            [
                'name' => 'Nikon Aculon 10x50', 'cat' => 'optic', 'price' => 5400.00, 'img' => 'products/Nikon Aculon 10x50.jpg',
                'data' => [
                    'about' => 'Класичний бінокль з великим збільшенням. Асферичні лінзи забезпечують чітке зображення без викривлень по краях.',
                    'specs' => ['Збільшення' => '10x', 'Діаметр' => '50 мм', 'Призми' => 'Porro', 'Поле зору' => '114 м', 'Вага' => '900 г'],
                    'features' => ['Асферична оптика', 'Прогумований корпус', 'Яскрава картинка', 'Японський бренд'],
                    'set' => 'Бінокль, чохол, ремінь.'
                ]
            ],

            // --- СПОРЯДЖЕННЯ ---
            [
                'name' => 'M-Tac Cuirass QRS', 'cat' => 'gear', 'price' => 5200.00, 'img' => 'products/M-Tac Cuirass QRS.jpg',
                'data' => [
                    'about' => 'Сучасна плитоноска (Plate Carrier) з системою швидкого скидання. Виготовлена з Cordura 500D, має інтерфейс MOLLE Laser Cut.',
                    'specs' => ['Матеріал' => 'Cordura 500D', 'Скидання' => 'Фурнітура 2M ROC', 'Сумісність' => 'Плити SAPI M/L', 'Колір' => 'Multicam', 'Вага' => '1 кг'],
                    'features' => ['Швидке скидання', 'Вентиляційні панелі', 'Адмін-кишеня', 'Надійна фурнітура'],
                    'set' => 'Плитоноска (без плит).'
                ]
            ],
            [
                'name' => 'Ремінь Cobra Tactical', 'cat' => 'gear', 'price' => 900.00, 'img' => 'products/Ремінь Cobra Tactical.jpg',
                'data' => [
                    'about' => 'Жорсткий тактичний ремінь з металевою пряжкою. Не провисає під вагою кобури та підсумків. Пряжка дозволяє миттєво розстібнути ремінь.',
                    'specs' => ['Ширина' => '45 мм', 'Пряжка' => 'Метал (Cobra type)', 'Матеріал' => 'Нейлон 1000D', 'Довжина' => '125 см', 'Регулювання' => 'Є'],
                    'features' => ['Миттєве розстібання', 'Жорстка конструкція', 'Надійна фіксація', 'Стильний вигляд'],
                    'set' => 'Ремінь.'
                ]
            ],
            [
                'name' => 'Mechanix M-Pact', 'cat' => 'gear', 'price' => 1400.00, 'img' => 'products/Mechanix M-Pact.jpg',
                'data' => [
                    'about' => 'Найпопулярніші тактичні рукавиці. Гумові накладки TPR захищають кісточки пальців від ударів. Долоня посилена матеріалом D3O для гасіння вібрацій.',
                    'specs' => ['Матеріал' => 'Синтетика + TPR', 'Захист' => 'Impact Guard', 'Манжета' => 'Velcro', 'Сезон' => 'Всесезонні', 'Колір' => 'Coyote'],
                    'features' => ['Робота з сенсором', 'Захист від ударів', 'Дихаючий матеріал', 'Зносостійкість'],
                    'set' => 'Пара рукавиць.'
                ]
            ],
            [
                'name' => 'Навушники Howard Leight', 'cat' => 'gear', 'price' => 3200.00, 'img' => 'products/Навушники Howard Leight.jpg',
                'data' => [
                    'about' => 'Активні навушники для стрільби. Блокують гучні звуки пострілів, але підсилюють тихі звуки (розмову, кроки). Незамінні на полігоні.',
                    'specs' => ['Рейтинг' => 'NRR 22dB', 'Живлення' => '2x AAA', 'Аудіовхід' => 'AUX 3.5мм', 'Час роботи' => '350 год', 'Колір' => 'Green'],
                    'features' => ['Активне шумозаглушення', 'Стерео звук', 'Низький профіль', 'Складная конструкція'],
                    'set' => 'Навушники, кабель AUX, батарейки.'
                ]
            ],
            [
                'name' => 'Рюкзак Assault 40L', 'cat' => 'gear', 'price' => 2100.00, 'img' => 'products/Рюкзак Assault 40L.webp',
                'data' => [
                    'about' => 'Класичний штурмовий рюкзак. Має два основних відділення та дві кишені спереду. Система MOLLE дозволяє кріпити додаткові підсумки.',
                    'specs' => ['Об\'єм' => '40 л', 'Матеріал' => 'Polyester 600D', 'Спинка' => 'М\'яка', 'Відділення' => '4', 'Колір' => 'Olive'],
                    'features' => ['Інтерфейс MOLLE', 'Поясний ремінь', 'Бічні стяжки', 'Водовідштовхувальний'],
                    'set' => 'Рюкзак.'
                ]
            ],

            // --- САМОЗАХИСТ ---
            [
                'name' => 'Терен-4М', 'cat' => 'defense', 'price' => 280.00, 'img' => 'products/Терен-4М.jpeg',
                'data' => [
                    'about' => 'Потужний газовий балончик для цивільного використання. Ефективний проти людей під впливом речовин та агресивних тварин.',
                    'specs' => ['Об\'єм' => '100 мл', 'Тип' => 'Аерозоль', 'Речовина' => 'МПК + CS', 'Дальність' => '2.5 м', 'Час' => '6-7 сек'],
                    'features' => ['Діє на собак', 'Миттєвий ефект', 'Запобіжник', 'Компактний'],
                    'set' => 'Балон.'
                ]
            ],
            [
                'name' => 'Електрошокер 1101', 'cat' => 'defense', 'price' => 450.00, 'img' => 'products/Електрошокер 1101.jpg',
                'data' => [
                    'about' => 'Шокер у корпусі металевого ліхтаря. Гучний тріск розряду психологічно діє на нападника та відлякує собак.',
                    'specs' => ['Напруга' => '50 000 кВ', 'Корпус' => 'Метал', 'Довжина' => '170 мм', 'Живлення' => 'Акумулятор', 'Ліхтар' => 'LED'],
                    'features' => ['Приховане носіння', 'Вбудований ліхтар', 'Міцний корпус', 'Гучний розряд'],
                    'set' => 'Шокер, чохол, зарядка.'
                ]
            ],
            [
                'name' => 'Телескопічна палиця ESP', 'cat' => 'defense', 'price' => 1800.00, 'img' => 'products/Телескопічна палиця ESP.jpg',
                'data' => [
                    'about' => 'Професійна загартована палиця. Не гнеться при сильних ударах. Використовується поліцією багатьох країн.',
                    'specs' => ['Довжина' => '21 дюйм (53 см)', 'Матеріал' => 'Загартована сталь', 'Руків\'я' => 'Гума', 'Вага' => '440 г', 'Тип' => 'Friction Lock'],
                    'features' => ['Не деформується', 'Надійна фіксація', 'Протиковзке руків\'я', 'Чохол з поворотом'],
                    'set' => 'Палиця, професійний чохол.'
                ]
            ],

            // --- ЛУКИ ---
            [
                'name' => 'Man Kung CB75', 'cat' => 'archery', 'price' => 12500.00, 'img' => 'products/Man Kung CB75.webp',
                'data' => [
                    'about' => 'Потужний блочний лук для полювання та спорту. Система блоків полегшує утримання тятиви, дозволяючи довго цілитися.',
                    'specs' => ['Сила натягу' => '60 lbs', 'Скидання' => '70%', 'Швидкість' => '82 м/с', 'Розтяжка' => '26-30"', 'Матеріал' => 'Алюміній/Фіберглас'],
                    'features' => ['Регульовані параметри', 'Висока швидкість', 'Віброгасники', 'Компактність'],
                    'set' => 'Лук, приціл, поличка.'
                ]
            ],
            [
                'name' => 'Man Kung XB21', 'cat' => 'archery', 'price' => 5600.00, 'img' => 'products/Man Kung XB21.jpg',
                'data' => [
                    'about' => 'Рекурсивний арбалет гвинтівкового типу. Проста і надійна конструкція. Оснащений планкою Weaver для встановлення прицілу.',
                    'specs' => ['Сила натягу' => '18 кг (40 lbs)', 'Швидкість' => '75 м/с', 'Приціл' => 'Коліматор', 'Вага' => '2.6 кг', 'Приклад' => 'Регульований'],
                    'features' => ['Автоматичний запобіжник', 'Захист від холостого пострілу', 'Легкий взвод', 'Повна комплектація'],
                    'set' => 'Арбалет, коліматор, стріли, натягувач.'
                ]
            ],

            // --- ДОГЛЯД ---
            [
                'name' => 'Ballistol 200ml', 'cat' => 'care', 'price' => 450.00, 'img' => 'products/Ballistol 200ml.jpg',
                'data' => [
                    'about' => 'Універсальне масло для догляду за зброєю, шкірою, деревом. Екологічно чисте, не токсичне. Виробляється в Німеччині понад 100 років.',
                    'specs' => ['Об\'єм' => '200 мл', 'Тип' => 'Спрей', 'Виробник' => 'Klever (Німеччина)', 'Призначення' => 'Універсальне', 'pH' => 'Лужне'],
                    'features' => ['Чистить і змащує', 'Нейтралізує кислотні залишки', 'Дезінфікує', 'Не твердне'],
                    'set' => 'Балон.'
                ]
            ],
            [
                'name' => 'Набір для чищення 4.5', 'cat' => 'care', 'price' => 350.00, 'img' => 'products/Набір для чищення 4.5.jfif',
                'data' => [
                    'about' => 'Комплект шомполів для пневматики та дрібного калібру. Латунний шомпол не дряпає ствол.',
                    'specs' => ['Калібр' => '4.5 мм', 'Довжина' => '70 см', 'Секцій' => '3', 'Матеріал' => 'Латунь', 'Насадки' => '3 шт'],
                    'features' => ['Обертова ручка', 'Компактний кейс', 'Повний цикл чищення', 'Надійність'],
                    'set' => 'Шомпол, 3 йоржики.'
                ]
            ],
            [
                'name' => 'Піна Forrest Bore', 'cat' => 'care', 'price' => 650.00, 'img' => 'products/Піна Forrest Bore.jpg',
                'data' => [
                    'about' => 'Піна для чищення стволів від оміднення та нагару. Ефективно розчиняє забруднення без механічного впливу.',
                    'specs' => ['Об\'єм' => '90 мл', 'Тип' => 'Піна', 'Призначення' => 'Зняття оміднення', 'Країна' => 'Фінляндія', 'Час дії' => '15-30 хв'],
                    'features' => ['Без запаху', 'Не пошкоджує метал', 'Кольорова індикація', 'Глибоке очищення'],
                    'set' => 'Балон.'
                ]
            ],

            // --- СЕЙФИ ---
            [
                'name' => 'Сейф ЛУКА ШЗБ-125', 'cat' => 'safe', 'price' => 6800.00, 'img' => 'products/Сейф ЛУКА ШЗБ-125.jpg',
                'data' => [
                    'about' => 'Недорогий збройовий сейф на 2-3 рушниці. Відповідає всім вимогам МВС. Має внутрішнє відділення для набоїв під окремим ключем.',
                    'specs' => ['Висота' => '1250 мм', 'Ширина' => '280 мм', 'Глибина' => '200 мм', 'Замок' => 'Ключовий', 'Товщина' => '1.5-2 мм'],
                    'features' => ['Трейзер (каса)', 'Кріплення до стіни', 'Килимок', 'Ложементи'],
                    'set' => 'Сейф, 2 комплекти ключів.'
                ]
            ],
            [
                'name' => 'Сейф Griffon GL.110.E', 'cat' => 'safe', 'price' => 9500.00, 'img' => 'products/Сейф Griffon GL.110.E.jpg',
                'data' => [
                    'about' => 'Сучасний сейф з електронним кодовим замком. Зручний у використанні, надійний захист. Вміщує до 3 одиниць зброї.',
                    'specs' => ['Замок' => 'Електронний кодовий', 'Висота' => '1100 мм', 'Вага' => '32 кг', 'Зброя' => '3 одиниці', 'Двері' => 'Посилені'],
                    'features' => ['Аварійний ключ', 'Пересувні полиці', 'М\'які тримачі', 'Стильний дизайн'],
                    'set' => 'Сейф, батарейки, ключі.'
                ]
            ],

            // --- АКСЕСУАРИ ---
            [
                'name' => 'Кейс 110см', 'cat' => 'acc', 'price' => 1200.00, 'img' => 'products/Кейс 110см.jpeg',
                'data' => [
                    'about' => 'Універсальний чохол для гвинтівки з оптикою. Щільні стінки захищають від ударів.',
                    'specs' => ['Довжина' => '110 см', 'Матеріал' => 'Nylon 600D', 'Колір' => 'Чорний', 'Тип' => 'М\'який', 'Лямки' => 'Рюкзачні'],
                    'features' => ['Носіння за спиною', 'Кишеня для куль', 'Водовідштовхувальний', 'Фіксатори всередині'],
                    'set' => 'Чохол.'
                ]
            ],
            [
                'name' => 'Кулі Шершень 0.68', 'cat' => 'acc', 'price' => 180.00, 'img' => 'products/Кулі Шершень 0.68.webp',
                'data' => [
                    'about' => 'Важкі свинцеві кулі українського виробництва. Оптимальний вибір для потужної пневматики.',
                    'specs' => ['Калібр' => '4.5 мм', 'Вага' => '0.68 г', 'Кількість' => '360 шт', 'Форма' => 'Domed', 'Матеріал' => 'Свинець'],
                    'features' => ['Стабільний політ', 'Хороша пробивна здатність', 'Низька ціна', 'Мінімум браку'],
                    'set' => 'Банка.'
                ]
            ],
            [
                'name' => 'Балон CO2 (10 шт)', 'cat' => 'acc', 'price' => 250.00, 'img' => 'products/Балон CO2 (10 шт).jpg',
                'data' => [
                    'about' => 'Комплект балончиків для пневматичних пістолетів. Підходять для всіх моделей на 12г балонах.',
                    'specs' => ['Тип' => 'CO2', 'Вага газу' => '12 г', 'Кількість' => '10 шт', 'Ресурс' => '~60 пострілів', 'Бренд' => 'SAS/Crosman'],
                    'features' => ['Чистий газ', 'Стабільний тиск', 'Універсальність', 'Вигідна ціна'],
                    'set' => '10 балонів.'
                ]
            ],
            [
                'name' => 'Мішені (50 шт)', 'cat' => 'acc', 'price' => 100.00, 'img' => 'products/Мішені (50 шт).jpg',
                'data' => [
                    'about' => 'Картонні мішені для тренувальної стрільби. Стандартний розмір 14х14 см для кулеуловлювача.',
                    'specs' => ['Розмір' => '14х14 см', 'Матеріал' => 'Картон', 'Кількість' => '50 шт', 'Тип' => 'Спортивна №9', 'Друк' => 'Чорний'],
                    'features' => ['Щільний картон', 'Рівні отвори', 'Чіткі лінії', 'Стандартний розмір'],
                    'set' => 'Упаковка.'
                ]
            ],
            [
                'name' => 'Окуляри Swiss Eye Raptor', 'cat' => 'wear', 'price' => 1900.00, 'img' => 'products/Окуляри Swiss Eye Raptor.jpg',
                'data' => [
                    'about' => 'Легендарні балістичні окуляри. Використовуються військовими та стрільцями. Захищають від дробу та уламків.',
                    'specs' => ['Стандарт' => 'STANAG 2920', 'Лінзи' => '3 змінні', 'Матеріал' => 'Полікарбонат', 'Дужки' => 'Регульовані', 'Країна' => 'Німеччина'],
                    'features' => ['100% захист UV', 'Антифог покриття', 'Змінні лінзи (біла, жовта, темна)', 'Чохол в комплекті'],
                    'set' => 'Оправа, 3 лінзи, чохол.'
                ]
            ],
            [
                'name' => 'Черевики Lowa Zephyr', 'cat' => 'wear', 'price' => 8500.00, 'img' => 'products/Черевики Lowa Zephyr.jpeg',
                'data' => [
                    'about' => 'Найпопулярніші тактичні черевики у світі. Легкі, міцні, водонепроникні завдяки мембрані Gore-Tex.',
                    'specs' => ['Матеріал' => 'Замша/Cordura', 'Мембрана' => 'Gore-Tex', 'Підошва' => 'Lowa Cross', 'Висота' => 'Mid', 'Колір' => 'Coyote'],
                    'features' => ['Бічна підтримка Monowrap', 'Водостійкість', 'Дихаючі', 'Швидка шнурівка'],
                    'set' => 'Взуття, коробка.'
                ]
            ],
        ];

        // 5. ЗАПИС
        foreach ($products as $prod) {
            Product::firstOrCreate(
                ['name' => $prod['name']],
                [
                    'category_id' => $cats[$prod['cat']],
                    'price' => $prod['price'],
                    'image' => $prod['img'],
                    'description' => $createDesc($prod['data'])
                ]
            );
        }
    }
}